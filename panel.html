<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'">
    <title>MemoWave</title>
    <link rel="stylesheet" href="panel-style.css">
</head>
<body>
    <div class="panel-container">
        <div class="panel-header">
            <h1>MemoWave</h1>
            <div class="header-actions">
                <button id="auth-button" title="Î°úÍ∑∏Ïù∏/Î°úÍ∑∏ÏïÑÏõÉ" class="icon-btn login-button" data-action="login">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path>
                    </svg>
                </button>
                <span id="auth-info" class="auth-info"></span>
                <button id="settings-btn" title="ÏÑ§Ï†ï" class="icon-btn">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"></path>
                    </svg>
                </button>
                <button id="close-btn" title="Ìå®ÎÑê Îã´Í∏∞" class="icon-btn">√ó</button>
            </div>
        </div>

        <div class="search-and-filter">
            <div class="search-bar">
                <input type="text" id="search-memo" placeholder="Î©îÎ™® Í≤ÄÏÉâ..." />
                <button id="clear-search-btn" class="icon-btn" style="display: none;">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
                    </svg>
                </button>
            </div>

            <div class="filter-container">
                <div class="filter-row">
                    <select id="category-filter" title="Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÌïÑÌÑ∞ÎßÅ">
                        <option value="all">Î™®Îì† Ïπ¥ÌÖåÍ≥†Î¶¨</option>
                        <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏòµÏÖòÏù¥ ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                    </select>

                    <select id="priority-filter" title="Ïö∞ÏÑ†ÏàúÏúÑÎ≥Ñ ÌïÑÌÑ∞ÎßÅ">
                        <option value="all">Î™®Îì† Ïö∞ÏÑ†ÏàúÏúÑ</option>
                        <option value="0">ÏùºÎ∞ò</option>
                        <option value="1">Ï§ëÏöî</option>
                        <option value="2">Í∏¥Í∏â</option>
                    </select>

                    <select id="sort-order" title="Ï†ïÎ†¨ Î∞©Ïãù">
                        <option value="newest">ÏµúÏã†Ïàú</option>
                        <option value="oldest">Ïò§ÎûòÎêúÏàú</option>
                        <option value="priority">Ïö∞ÏÑ†ÏàúÏúÑÏàú</option>
                        <option value="upcoming">ÏïåÎ¶º ÏòàÏ†ïÏàú</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="memo-editor-container" id="memo-editor-container">
            <div id="markdown-toolbar" class="markdown-toolbar">
                <button class="toolbar-btn" data-format="bold" title="ÍµµÏùÄ Í∏ÄÏî®">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"></path>
                    </svg>
                </button>
                <button class="toolbar-btn" data-format="italic" title="Í∏∞Ïö∏ÏûÑÏ≤¥">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"></path>
                    </svg>
                </button>
                <button class="toolbar-btn" data-format="strike" title="Ï∑®ÏÜåÏÑ†">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"></path>
                    </svg>
                </button>
                <button class="toolbar-btn" data-format="code" title="ÏΩîÎìú">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path>
                    </svg>
                </button>
                <button class="toolbar-btn" data-format="link" title="ÎßÅÌÅ¨">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path>
                    </svg>
                </button>
                <button class="toolbar-btn" data-format="list" title="Î™©Î°ù">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"></path>
                    </svg>
                </button>
                <button class="toolbar-btn" data-format="image" title="Ïù¥ÎØ∏ÏßÄ Ï≤®Î∂Ä">
                    <svg viewBox="0 0 24 24" width="16" height="16">
                        <path fill="currentColor" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"></path>
                    </svg>
                </button>
            </div>

            <div class="input-container">
                <textarea id="memo-input" placeholder="ÏÉà Î©îÎ™® ÎÇ¥Ïö© ÏûÖÎ†•... (ÎßàÌÅ¨Îã§Ïö¥ ÏßÄÏõê)" rows="3"></textarea>
                <div class="memo-input-controls">
                    <div class="memo-options">
                        <select id="new-memo-category" title="Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ†ÌÉù">
                            <option value="">Ïπ¥ÌÖåÍ≥†Î¶¨ ÏóÜÏùå</option>
                            <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏòµÏÖòÏù¥ ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                        </select>
                        <select id="new-memo-priority" title="Ïö∞ÏÑ†ÏàúÏúÑ ÏÑ†ÌÉù">
                            <option value="0">ÏùºÎ∞ò</option>
                            <option value="1">‚≠ê Ï§ëÏöî</option>
                            <option value="2">üî• Í∏¥Í∏â</option>
                        </select>
                    </div>
                    <button id="add-memo-btn" class="primary-btn">Ï∂îÍ∞Ä</button>
                </div>
            </div>
        </div>

        <div id="memos-container">
            <!-- Î©îÎ™®Îì§Ïù¥ ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
        </div>

        <div class="panel-footer">
            <div class="footer-tools">
                <button id="markdown-hint-btn" title="ÎßàÌÅ¨Îã§Ïö¥ ÎèÑÏõÄÎßê" class="icon-btn footer-icon">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path>
                    </svg>
                </button>
                <button id="export-btn" title="Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞" class="icon-btn footer-icon">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"></path>
                    </svg>
                </button>
                <button id="import-btn" title="Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞" class="icon-btn footer-icon">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path>
                    </svg>
                </button>
                <button id="theme-toggle-btn" title="ÌÖåÎßà Î≥ÄÍ≤Ω" class="icon-btn footer-icon">
                    <svg viewBox="0 0 24 24" width="18" height="18" class="theme-light-icon">
                        <path fill="currentColor" d="M20 8.69V4h-4.69L12 0.69 8.69 4H4v4.69L0.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"></path>
                    </svg>
                    <svg viewBox="0 0 24 24" width="18" height="18" class="theme-dark-icon" style="display:none;">
                        <path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path>
                    </svg>
                </button>
            </div>
            <div class="app-version">
                <span id="app-version">v1.0.0</span>
            </div>

            <!-- ÎßàÌÅ¨Îã§Ïö¥ ÎèÑÏõÄÎßê Î™®Îã¨ -->
            <div id="markdown-modal" class="markdown-modal">
                <div class="markdown-modal-content">
                    <div class="markdown-modal-header">
                        <h3>ÎßàÌÅ¨Îã§Ïö¥ ÏÇ¨Ïö© Î∞©Î≤ï</h3>
                        <button id="close-markdown-modal" class="icon-btn">√ó</button>
                    </div>
                    <div class="markdown-modal-body">
                        <div class="markdown-examples">
                            <p><code>**ÌÖçÏä§Ìä∏**</code> - <strong>ÍµµÏùÄ Í∏ÄÏî®</strong></p>
                            <p><code>*ÌÖçÏä§Ìä∏*</code> - <em>Í∏∞Ïö∏ÏûÑÏ≤¥</em></p>
                            <p><code>~~ÌÖçÏä§Ìä∏~~</code> - <del>Ï∑®ÏÜåÏÑ†</del></p>
                            <p><code>`ÏΩîÎìú`</code> - <code>Ïù∏ÎùºÏù∏ ÏΩîÎìú</code></p>
                            <p><code>[ÎßÅÌÅ¨ÌÖçÏä§Ìä∏](URL)</code> - <a href="#">ÎßÅÌÅ¨</a></p>
                            <p><code>```ÏΩîÎìú Î∏îÎ°ù```</code> - ÏΩîÎìú Î∏îÎ°ù</p>
                            <p><code># Ï†úÎ™©</code> - <strong>ÌÅ∞ Ï†úÎ™©</strong></p>
                            <p><code>## Î∂ÄÏ†úÎ™©</code> - <strong>Î∂ÄÏ†úÎ™©</strong></p>
                            <p><code>- Ìï≠Î™©</code> - Í∏ÄÎ®∏Î¶¨ Í∏∞Ìò∏ Î™©Î°ù</p>
                            <p><code>1. Ìï≠Î™©</code> - Î≤àÌò∏ Î™©Î°ù</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ÌéòÏù¥ÏßÄ Î°úÎìú ÏßÅÌõÑ Ïã§ÌñâÎêòÎäî Ïä§ÌÅ¨Î¶ΩÌä∏
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ÌéòÏù¥ÏßÄ Î°úÎìú ÏôÑÎ£å - Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏');

            // Î°úÍ∑∏Ïù∏ Î≤ÑÌäº ÏßÅÏ†ë Ï≤òÎ¶¨
            const loginButton = document.getElementById('auth-button');
            if (loginButton) {
                console.log('Î°úÍ∑∏Ïù∏ Î≤ÑÌäºÏùÑ Ï∞æÏïòÏäµÎãàÎã§ - Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏');

                // ÏßÅÏ†ë ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
                loginButton.addEventListener('click', function(e) {
                    console.log('Î°úÍ∑∏Ïù∏ Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏');
                    e.preventDefault();

                    try {
                        // window.electronAPI ÌôïÏù∏
                        if (window.electronAPI && window.electronAPI.openLoginWindow) {
                            console.log('electronAPI.openLoginWindow Ìò∏Ï∂ú - Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏');
                            window.electronAPI.openLoginWindow();
                        } else {
                            console.error('electronAPIÍ∞Ä ÏóÜÍ±∞ÎÇò openLoginWindow Î©îÏÑúÎìúÍ∞Ä ÏóÜÏäµÎãàÎã§ - Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏');
                            alert('Î°úÍ∑∏Ïù∏ Í∏∞Îä•ÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§. Í∞úÎ∞úÏûê ÎèÑÍµ¨Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî.');
                        }
                    } catch (error) {
                        console.error('Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ Ï§ë Ïò§Î•ò:', error);
                        alert('Î°úÍ∑∏Ïù∏ Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§: ' + error.message);
                    }
                });

                // Î≤ÑÌäº Ïä§ÌÉÄÏùº Í∞ïÏ°∞
                loginButton.style.cursor = 'pointer';
                loginButton.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.2)';

                console.log('Î°úÍ∑∏Ïù∏ Î≤ÑÌäº ÏÑ§Ï†ï ÏôÑÎ£å - Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏');
            } else {
                console.error('Î°úÍ∑∏Ïù∏ Î≤ÑÌäºÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§ - Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏');
            }

            // ÎîîÎ≤ÑÍπÖÏö© Ï†ÑÏó≠ Ìï®Ïàò Ï∂îÍ∞Ä
            window.openLoginWindowManually = function() {
                console.log('ÏàòÎèô Î°úÍ∑∏Ïù∏ Ï∞Ω Ïó¥Í∏∞ Ìï®Ïàò Ìò∏Ï∂úÎê®');
                if (window.electronAPI && window.electronAPI.openLoginWindow) {
                    window.electronAPI.openLoginWindow();
                    return 'Î°úÍ∑∏Ïù∏ Ï∞Ω Ïó¥Í∏∞ ÏöîÏ≤≠Ïù¥ Ï†ÑÏÜ°ÎêòÏóàÏäµÎãàÎã§.';
                } else {
                    return 'electronAPIÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§!';
                }
            };

            console.log('Ïù∏ÎùºÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏ ÏÑ§Ï†ï ÏôÑÎ£å - Í∞úÎ∞úÏûê ÎèÑÍµ¨ÏóêÏÑú window.openLoginWindowManually() Ïã§Ìñâ Í∞ÄÎä•');
        });
    </script>
        <script src="panel-renderer.js"></script>
</body>
</html>
